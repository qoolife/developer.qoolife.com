<!DOCTYPE html>
<html lang='en'>
  <head>
    <meta charset='utf-8'>
    <title>Qoolife API V1 Conversations Creation</title>
    <meta content='width=device-width, initial-scale=1.0' name='viewport'>
    <meta content='' name='description'>
    <meta content='' name='author'>
    <!-- Le styles -->
    <link href='/assets/stylesheets/all.css' rel='stylesheet'>
    <script src='/assets/javascripts/all.js'></script>
    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src='//html5shim.googlecode.com/svn/trunk/html5.js'></script>
    <![endif]-->
    <!-- Le fav and touch icons -->
    <link href='/ico/favicon.ico' rel='shortcut icon'>
    <link href='/ico/apple-touch-icon-114-precomposed.png' rel='apple-touch-icon-precomposed' sizes='114x114'>
    <link href='/ico/apple-touch-icon-72-precomposed.png' rel='apple-touch-icon-precomposed' sizes='72x72'>
    <link href='/ico/apple-touch-icon-57-precomposed.png' rel='apple-touch-icon-precomposed'>
  </head>
  <body>
    <div class='navbar navbar-fixed-top'>
      <div class='navbar-inner'>
        <div class='container-fluid'>
          <a class='btn btn-navbar' data-target='.nav-collapse' data-toggle='collapse'>
            <span class='icon-bar'></span>
            <span class='icon-bar'></span>
            <span class='icon-bar'></span>
          </a>
          <a class='brand' href='/'>
            <img alt='Qoolife' src='/images/qoolife-36-invert-color.png'>
            <span>
              Developers
              &there4;
            </span>
            <span class='api'>
              API v1
            </span>
          </a>
          <a class='vanity pull-right' href='https://qoolife.com'>
            Visit qoolife.com
          </a>
        </div>
      </div>
    </div>
    <div class='main container-fluid'>
      <div class='row-fluid'>
        <div class='span2'>
          <div class='sidebar-nav well'>
            <ul class='nav nav-list'>
              <li class='nav-header'>API Summary</li>
              <li>
                <a href='/api/v1/authentication/'>Authentication</a>
              </li>
              <li>
                <a href='/api/v1/data-format/'>Data Format</a>
              </li>
              <li>
                <a href='/api/v1/pagination/'>Pagination</a>
              </li>
              <li>
                <a href='/api/v1/status-codes/'>Status Codes</a>
              </li>
              <li>
                <a href='/api/v1/hello/'>Hello, World</a>
              </li>
              <li class='nav-header'>Users</li>
              <li>
                <a href='/api/v1/users/me/'>User profile</a>
              </li>
              <li class='nav-header'>Journal Entries</li>
              <li>
                <a href='/api/v1/journal_entries/'>Listing own entries</a>
              </li>
              <li>
                <a href='/api/v1/journal_entries/create/'>Creating an entry</a>
              </li>
              <li>
                <a href='/api/v1/journal_entries/measurements/'>Measurements and questionnaires</a>
              </li>
              <li>
                <a href='/api/v1/journal_entries/update/'>Update a current entry</a>
              </li>
              <li>
                <a href='/api/v1/journal_entries/attachments/'>Uploading files as attachments</a>
              </li>
              <li class='nav-header'>Conversations</li>
              <li>
                <a href='/api/v1/conversations/'>Listing conversations</a>
              </li>
              <li>
                <a href='/api/v1/conversations/show'>Showing a conversation</a>
              </li>
              <li>
                <a href='/api/v1/conversations/create/'>Starting a conversation</a>
              </li>
              <li>
                <a href='/api/v1/conversations/post/'>Replying to a conversation</a>
              </li>
              <li>
                <a href='/api/v1/conversations/attachments/'>Uploading files as attachments</a>
              </li>
              <li class='nav-header'>Relationships</li>
              <li>
                <a href='/api/v1/relationships/'>Listing relationships</a>
              </li>
            </ul>
          </div>
          <!-- /.well -->
        </div>
        <!-- /span -->
        <div class='span10'>
          <div class='main-content well'>
            <h1 id="conversations-creation">Conversations Creation</h1>
            
            <p>You can create a conversation entry within the authenticated user and the recipient submitting its data to:</p>
            
            <pre><code>POST /api/v1/conversations
            </code></pre>
            
            <dl>
              <dt>conversation[title]</dt>
              <dd>Title for the message</dd>
              <dt>conversation[first_post_body]</dt>
              <dd>Body of the message to send</dd>
              <dt>conversation[user_id]</dt>
              <dd>id for the recipient User to start the conversation with</dd>
            </dl>
            
            <p>The response will be a JSON response containing the conversation and including an array of posts for each individual conversation and an array of conversation watchers.</p>
            
            <p>Example request:</p>
            
            <pre><code>curl -u 'user@example.com:sekret' -X POST -d "conversation[title]=a title;conversation[first_post_body]=Wow folks whats app;conversation[user_id]=2" https://qoolife.com/api/v1/conversations
            </code></pre>
            
            <p>Response:</p>
            
            <pre><code>HTTP/1.1 201 Created
            
            {
              "conversation":
                {
                  "id":1,
                  "user_id":2,
                  "title":"a title",
                  "date":"2012-10-05T15:35:00+02:00",
                  "created_at":"2012-03-18T10:40:30+01:00",
                  "updated_at":"2012-03-18T10:40:30+01:00",
                  "type_human":"private message",
                  "status":"resolved",
                  "unread":"false",
                  "last_viewed_at":"2012-03-18T10:40:30+01:00",
                  "posts": [{
                    "id": 1,
                    "user_id": 1,
                    "conversation_id": 1,
                    "body": "Wow folks whats app",
                    "created_at":"2012-03-18T10:40:30+01:00",
                    "updated_at":"2012-03-18T10:40:30+01:00"
                  }]
                  "watchers": [
                  {
                    "id":1,
                    "first_name":"Robb",
                    "last_name":"Murtin",
                    "about_me":"Neither thin nor fat, neither rich nor poor. Common people.",
                    "professional_roles":"MÃ©dico",
                    "avatar":"https://secure.gravatar.com/avatar/1422885fa18378ece1b688d22abd551f.jpg%3Fsize=48&amp;d=https://qoolife.com/assets/icons/avatar-small.png",
                    "slug":"robb-murtin",
                    "created_at":"2012-03-18T10:40:30+01:00",
                    "updated_at":"2012-03-18T10:40:30+01:00"
                  },
                  {
                    "id":2,
                    "first_name":"Mutt",
                    "last_name":"Robbin",
                    "about_me":"Neither thin nor fat, neither rich nor poor. Common people.",
                    "professional_roles":"",
                    "avatar":"https://secure.gravatar.com/avatar/1422885fa18378ece1b688d22abd551f.jpg%3Fsize=48&amp;d=https://qoolife.com/assets/icons/avatar-small.png",
                    "slug":"mutt-robbin",
                    "created_at":"2012-03-18T10:40:30+01:00",
                    "updated_at":"2012-03-18T10:40:30+01:00"
                  }
                  ]
                }
            }
            </code></pre>
          </div>
        </div>
        <!-- /span -->
      </div>
      <!-- /row -->
      <footer class='container-fluid well'>
        <ul class='unstyled'>
          <li>
            <a href='https://qoolife.com/quienes-somos'>About us</a>
          </li>
          <li>
            <a href='http://blog.qoolife.com/'>Our Blog</a>
          </li>
          <li>
            <a href='https://qoolife.com/contacto'>Contact us</a>
          </li>
        </ul>
        <div class='copy'>
          &copy; Bet Quality of Life 2013
        </div>
      </footer>
    </div>
    <!-- /.fluid-container -->
    <script>
      var analyticsFileTypes = [''];
      var analyticsEventTracking = 'enabled';
    </script>
    <script>
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', "UA-3234234234234"]);
      _gaq.push(['_setDomainName', "developer.qoolife.com"]);
      _gaq.push(['_trackPageview']);
      
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>
